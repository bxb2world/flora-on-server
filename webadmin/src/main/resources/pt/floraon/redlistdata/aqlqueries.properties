redlistdata.1= \
FOR t IN taxent \
    FOR trl IN redlist_%1$s \
        FILTER t._id == trl.taxEntID SORT t.name \
        RETURN MERGE(trl, { taxEnt: t })

redlistdata.2= \
  FOR trl IN redlist_%1$s \
    FILTER trl.taxEntID == '%2$s' \
    RETURN MERGE(trl, { taxEntID: '%2$s', taxEnt: DOCUMENT('%2$s') })

redlistdata.3= \
FOR u IN user \
    FILTER u.taxonPrivileges != NULL \
    FOR tp IN u.taxonPrivileges \
        FOR at IN tp.applicableTaxa \
            FOR tg IN 0..100 INBOUND at PART_OF, ANY SYNONYM \
                FOR rl IN redlist_%1$s \
                    FILTER tg._id == rl.taxEntID \
                    RETURN {taxonName: tg.name, taxEntId: tg._id, privileges: tp.privileges, userId: u._id}

redlistdata.4= \
FOR trl IN redlist_%1$s \
    FILTER trl.taxEntID IN @ids \
    UPDATE trl WITH @data IN redlist_%1$s \
    RETURN NEW
